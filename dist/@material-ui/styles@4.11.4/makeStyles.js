define(["../objectWithoutPropertiesLoose","../extends","react","jss","./mergeClasses","./makeStyles/multiKeyStore","./useTheme","./StylesProvider","./makeStyles/indexCounter","./getStylesCreator","./getStylesCreator/noopTheme","@material-ui/utils","./useTheme/ThemeContext","prop-types","./createGenerateClassName","./ThemeProvider/nested","./jssPreset","jss-plugin-rule-value-function","jss-plugin-global","jss-plugin-nested","jss-plugin-camel-case","jss-plugin-default-unit","jss-plugin-vendor-prefixer","jss-plugin-props-sort"],(function(e,s,t,a,n,l,r,c,o,i,u,h,d,f,m,S,y,p,C,g,j,v,x,b){function P(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var N=P(t);return function(t,h={}){const{name:d,classNamePrefix:f,Component:m,defaultTheme:S=u}=h,y=e._objectWithoutPropertiesLoose(h,["name","classNamePrefix","Component","defaultTheme"]),p=i(t),C=d||f||"makeStyles";return p.options={index:o.increment(),name:d,meta:C,classNamePrefix:C},(e={})=>{const t=r()||S,o=s._extends({},N.default.useContext(c.StylesContext),y),i=N.default.useRef(),u=N.default.useRef();!function(e,s){const t=N.default.useRef([]);let a;const n=N.default.useMemo((()=>({})),s);t.current!==n&&(t.current=n,a=e()),N.default.useEffect((()=>()=>{a&&a()}),[n])}((()=>{const r={name:d,state:{},stylesCreator:p,stylesOptions:o,theme:t};return function({state:e,theme:t,stylesOptions:r,stylesCreator:c,name:o},i){if(r.disableGeneration)return;let u=l.get(r.sheetsManager,c,t);u||(u={refs:0,staticSheet:null,dynamicStyles:null},l.set(r.sheetsManager,c,t,u));const h=s._extends({},c.options,r,{theme:t,flip:"boolean"==typeof r.flip?r.flip:"rtl"===t.direction});h.generateId=h.serverGenerateClassName||h.generateClassName;const d=r.sheetsRegistry;if(0===u.refs){let e;r.sheetsCache&&(e=l.get(r.sheetsCache,c,t));const n=c.create(t,o);e||(e=r.jss.createStyleSheet(n,s._extends({link:!1},h)),e.attach(),r.sheetsCache&&l.set(r.sheetsCache,c,t,e)),d&&d.add(e),u.staticSheet=e,u.dynamicStyles=a.getDynamicStyles(n)}if(u.dynamicStyles){const t=r.jss.createStyleSheet(u.dynamicStyles,s._extends({link:!0},h));t.update(i),t.attach(),e.dynamicSheet=t,e.classes=n({baseClasses:u.staticSheet.classes,newClasses:t.classes}),d&&d.add(t)}else e.classes=u.staticSheet.classes;u.refs+=1}(r,e),u.current=!1,i.current=r,()=>{!function({state:e,theme:s,stylesOptions:t,stylesCreator:a}){if(t.disableGeneration)return;const n=l.get(t.sheetsManager,a,s);n.refs-=1;const r=t.sheetsRegistry;0===n.refs&&(l.delete(t.sheetsManager,a,s),t.jss.removeStyleSheet(n.staticSheet),r&&r.remove(n.staticSheet)),e.dynamicSheet&&(t.jss.removeStyleSheet(e.dynamicSheet),r&&r.remove(e.dynamicSheet))}(r)}}),[t,p]),N.default.useEffect((()=>{u.current&&function({state:e},s){e.dynamicSheet&&e.dynamicSheet.update(s)}(i.current,e),u.current=!0}));const h=function({state:e,stylesOptions:s},t,a){if(s.disableGeneration)return t||{};e.cacheClasses||(e.cacheClasses={value:null,lastProp:null,lastJSS:{}});let l=!1;return e.classes!==e.cacheClasses.lastJSS&&(e.cacheClasses.lastJSS=e.classes,l=!0),t!==e.cacheClasses.lastProp&&(e.cacheClasses.lastProp=t,l=!0),l&&(e.cacheClasses.value=n({baseClasses:e.cacheClasses.lastJSS,newClasses:t,Component:a})),e.cacheClasses.value}(i.current,e.classes,m);return"production"!==process.env.NODE_ENV&&N.default.useDebugValue(h),h}}}));
//# sourceMappingURL=makeStyles.js.map
