{"version":3,"file":"StylesProvider.js","sources":["../../../node_modules/@material-ui/styles/es/StylesProvider/StylesProvider.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { exactProp } from '@material-ui/utils';\nimport createGenerateClassName from '../createGenerateClassName';\nimport { create } from 'jss';\nimport jssPreset from '../jssPreset'; // Default JSS instance.\n\nconst jss = create(jssPreset()); // Use a singleton or the provided one by the context.\n//\n// The counter-based approach doesn't tolerate any mistake.\n// It's much safer to use the same counter everywhere.\n\nconst generateClassName = createGenerateClassName(); // Exported for test purposes\n\nexport const sheetsManager = new Map();\nconst defaultOptions = {\n  disableGeneration: false,\n  generateClassName,\n  jss,\n  sheetsCache: null,\n  sheetsManager,\n  sheetsRegistry: null\n};\nexport const StylesContext = React.createContext(defaultOptions);\n\nif (process.env.NODE_ENV !== 'production') {\n  StylesContext.displayName = 'StylesContext';\n}\n\nlet injectFirstNode;\nexport default function StylesProvider(props) {\n  const {\n    children,\n    injectFirst = false,\n    disableGeneration = false\n  } = props,\n        localOptions = _objectWithoutPropertiesLoose(props, [\"children\", \"injectFirst\", \"disableGeneration\"]);\n\n  const outerOptions = React.useContext(StylesContext);\n\n  const context = _extends({}, outerOptions, {\n    disableGeneration\n  }, localOptions);\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof window === 'undefined' && !context.sheetsManager) {\n      console.error('Material-UI: You need to use the ServerStyleSheets API when rendering on the server.');\n    }\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (context.jss.options.insertionPoint && injectFirst) {\n      console.error('Material-UI: You cannot use a custom insertionPoint and <StylesContext injectFirst> at the same time.');\n    }\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (injectFirst && localOptions.jss) {\n      console.error('Material-UI: You cannot use the jss and injectFirst props at the same time.');\n    }\n  }\n\n  if (!context.jss.options.insertionPoint && injectFirst && typeof window !== 'undefined') {\n    if (!injectFirstNode) {\n      const head = document.head;\n      injectFirstNode = document.createComment('mui-inject-first');\n      head.insertBefore(injectFirstNode, head.firstChild);\n    }\n\n    context.jss = create({\n      plugins: jssPreset().plugins,\n      insertionPoint: injectFirstNode\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(StylesContext.Provider, {\n    value: context\n  }, children);\n}\nprocess.env.NODE_ENV !== \"production\" ? StylesProvider.propTypes = {\n  /**\n   * Your component tree.\n   */\n  children: PropTypes.node.isRequired,\n\n  /**\n   * You can disable the generation of the styles with this option.\n   * It can be useful when traversing the React tree outside of the HTML\n   * rendering step on the server.\n   * Let's say you are using react-apollo to extract all\n   * the queries made by the interface server-side - you can significantly speed up the traversal with this prop.\n   */\n  disableGeneration: PropTypes.bool,\n\n  /**\n   * JSS's class name generator.\n   */\n  generateClassName: PropTypes.func,\n\n  /**\n   * By default, the styles are injected last in the <head> element of the page.\n   * As a result, they gain more specificity than any other style sheet.\n   * If you want to override Material-UI's styles, set this prop.\n   */\n  injectFirst: PropTypes.bool,\n\n  /**\n   * JSS's instance.\n   */\n  jss: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  serverGenerateClassName: PropTypes.func,\n\n  /**\n   * @ignore\n   *\n   * Beta feature.\n   *\n   * Cache for the sheets.\n   */\n  sheetsCache: PropTypes.object,\n\n  /**\n   * @ignore\n   *\n   * The sheetsManager is used to deduplicate style sheet injection in the page.\n   * It's deduplicating using the (theme, styles) couple.\n   * On the server, you should provide a new instance for each request.\n   */\n  sheetsManager: PropTypes.object,\n\n  /**\n   * @ignore\n   *\n   * Collect the sheets.\n   */\n  sheetsRegistry: PropTypes.object\n} : void 0;\n\nif (process.env.NODE_ENV !== 'production') {\n  process.env.NODE_ENV !== \"production\" ? StylesProvider.propTypes = exactProp(StylesProvider.propTypes) : void 0;\n}"],"names":["jss","create","jssPreset","generateClassName","createGenerateClassName","sheetsManager","Map","defaultOptions","disableGeneration","sheetsCache","sheetsRegistry","StylesContext","React","createContext","injectFirstNode","StylesProvider","props","children","injectFirst","localOptions","_objectWithoutPropertiesLoose","outerOptions","useContext","context","_extends","process","env","NODE_ENV","window","console","error","options","insertionPoint","head","document","createComment","insertBefore","firstChild","plugins","createElement","Provider","value","displayName","propTypes","PropTypes","node","isRequired","bool","func","object","serverGenerateClassName","exactProp"],"mappings":"igBASA,MAAMA,EAAMC,SAAOC,KAKbC,EAAoBC,IAEbC,EAAgB,IAAIC,IAC3BC,EAAiB,CACrBC,mBAAmB,EACnBL,kBAAAA,EACAH,IAAAA,EACAS,YAAa,KACbJ,cAAAA,EACAK,eAAgB,MAELC,EAAgBC,UAAMC,cAAcN,GAMjD,IAAIO,EACW,SAASC,EAAeC,GACrC,MAAMC,SACJA,EAAQC,YACRA,GAAc,EAAKV,kBACnBA,GAAoB,GAClBQ,EACEG,EAAeC,gCAA8BJ,EAAO,CAAC,WAAY,cAAe,sBAEhFK,EAAeT,UAAMU,WAAWX,GAEhCY,EAAUC,WAAS,GAAIH,EAAc,CACzCb,kBAAAA,GACCW,GAoBH,GAlB6B,eAAzBM,QAAQC,IAAIC,WACQ,oBAAXC,QAA2BL,EAAQlB,eAC5CwB,QAAQC,MAAM,yFAIW,eAAzBL,QAAQC,IAAIC,UACVJ,EAAQvB,IAAI+B,QAAQC,gBAAkBd,GACxCW,QAAQC,MAAM,yGAIW,eAAzBL,QAAQC,IAAIC,UACVT,GAAeC,EAAanB,KAC9B6B,QAAQC,MAAM,gFAIbP,EAAQvB,IAAI+B,QAAQC,gBAAkBd,GAAiC,oBAAXU,OAAwB,CACvF,IAAKd,EAAiB,CACpB,MAAMmB,EAAOC,SAASD,KACtBnB,EAAkBoB,SAASC,cAAc,oBACzCF,EAAKG,aAAatB,EAAiBmB,EAAKI,YAG1Cd,EAAQvB,IAAMC,SAAO,CACnBqC,QAASpC,IAAYoC,QACrBN,eAAgBlB,IAIpB,OAAoBF,UAAM2B,cAAc5B,EAAc6B,SAAU,CAC9DC,MAAOlB,GACNN,GApDwB,eAAzBQ,QAAQC,IAAIC,WACdhB,EAAc+B,YAAc,iBAqDL,eAAzBjB,QAAQC,IAAIC,WAA4BZ,EAAe4B,UAAY,CAIjE1B,SAAU2B,UAAUC,KAAKC,WASzBtC,kBAAmBoC,UAAUG,KAK7B5C,kBAAmByC,UAAUI,KAO7B9B,YAAa0B,UAAUG,KAKvB/C,IAAK4C,UAAUK,OAKfC,wBAAyBN,UAAUI,KASnCvC,YAAamC,UAAUK,OASvB5C,cAAeuC,UAAUK,OAOzBvC,eAAgBkC,UAAUK,SAGC,eAAzBxB,QAAQC,IAAIC,UACW,eAAzBF,QAAQC,IAAIC,WAA4BZ,EAAe4B,UAAYQ,YAAUpC,EAAe4B"}