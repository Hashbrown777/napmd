define(["exports","../extends","../objectWithoutPropertiesLoose","react","prop-types","clsx","@material-ui/utils","@material-ui/core/styles","@material-ui/core/utils","./internal/svg-icons/Star"],(function(e,t,n,o,a,l,i,r,s,u){function c(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var f=d(o),p=c(a),m=c(l);function v(e,t){if(null==e)return e;const n=Math.round(e/t)*t;return Number(n.toFixed(function(e){const t=e.toString().split(".")[1];return t?t.length:0}(t)))}const h=e=>({root:{display:"inline-flex",position:"relative",fontSize:e.typography.pxToRem(24),color:"#ffb400",cursor:"pointer",textAlign:"left",WebkitTapHighlightColor:"transparent","&$disabled":{opacity:.5,pointerEvents:"none"},"&$focusVisible $iconActive":{outline:"1px solid #999"}},sizeSmall:{fontSize:e.typography.pxToRem(18)},sizeLarge:{fontSize:e.typography.pxToRem(30)},readOnly:{pointerEvents:"none"},disabled:{},focusVisible:{},visuallyhidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,color:"#000",overflow:"hidden",padding:0,position:"absolute",top:20,width:1},pristine:{"input:focus + &":{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}},label:{cursor:"inherit"},icon:{display:"flex",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),pointerEvents:"none"},iconEmpty:{color:e.palette.action.disabled},iconFilled:{},iconHover:{},iconFocus:{},iconActive:{transform:"scale(1.2)"},decimal:{position:"relative"}});function b(e){const t=n._objectWithoutPropertiesLoose(e,["value"]);return f.createElement("span",t)}"production"!==process.env.NODE_ENV&&(b.propTypes={value:p.default.number.isRequired});const y=f.createElement(u,{fontSize:"inherit"});function g(e){return`${e} Star${1!==e?"s":""}`}const E=f.forwardRef((function(e,o){const{classes:a,className:l,defaultValue:i=null,disabled:u=!1,emptyIcon:c,emptyLabelText:d="Empty",getLabelText:p=g,icon:h=y,IconContainerComponent:E=b,max:x=5,name:C,onChange:M,onChangeActive:T,onMouseLeave:F,onMouseMove:N,precision:O=1,readOnly:w=!1,size:A="medium",value:L}=e,j=n._objectWithoutPropertiesLoose(e,["classes","className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value"]),k=s.unstable_useId(C),[z,R]=s.useControlled({controlled:L,default:i,name:"Rating"}),S=v(z,O),_=r.useTheme(),[{hover:I,focus:V},$]=f.useState({hover:-1,focus:-1});let P=S;-1!==I&&(P=I),-1!==V&&(P=V);const{isFocusVisible:B,onBlurVisible:W,ref:q}=s.useIsFocusVisible(),[D,H]=f.useState(!1),X=f.useRef(),U=s.useForkRef(q,X),Y=s.useForkRef(U,o),G=e=>{const t=parseFloat(e.target.value);R(t),M&&M(e,t)},J=e=>{0===e.clientX&&0===e.clientY||($({hover:-1,focus:-1}),R(null),M&&parseFloat(e.target.value)===S&&M(e,null))},K=e=>{B(e)&&H(!0);const t=parseFloat(e.target.value);$((e=>({hover:e.hover,focus:t}))),T&&V!==t&&T(e,t)},Q=e=>{if(-1!==I)return;!1!==D&&(H(!1),W());$((e=>({hover:e.hover,focus:-1}))),T&&-1!==V&&T(e,-1)},Z=(e,n)=>{const o=`${k}-${String(e.value).replace(".","-")}`,l=f.createElement(E,{value:e.value,className:m.default(a.icon,e.filled?a.iconFilled:a.iconEmpty,e.hover&&a.iconHover,e.focus&&a.iconFocus,e.active&&a.iconActive)},c&&!e.filled?c:h);return w?f.createElement("span",t._extends({key:e.value},n),l):f.createElement(f.Fragment,{key:e.value},f.createElement("label",t._extends({className:a.label,htmlFor:o},n),l,f.createElement("span",{className:a.visuallyhidden},p(e.value))),f.createElement("input",{onFocus:K,onBlur:Q,onChange:G,onClick:J,disabled:u,value:e.value,id:o,type:"radio",name:k,checked:e.checked,className:a.visuallyhidden}))};return f.createElement("span",t._extends({ref:Y,onMouseMove:e=>{N&&N(e);const t=X.current,{right:n,left:o}=t.getBoundingClientRect(),{width:a}=t.firstChild.getBoundingClientRect();let l;l="rtl"===_.direction?(n-e.clientX)/(a*x):(e.clientX-o)/(a*x);let i=v(x*l+O/2,O);i=function(e,t,n){return e<t?t:e>n?n:e}(i,O,x),$((e=>e.hover===i&&e.focus===i?e:{hover:i,focus:i})),H(!1),T&&I!==i&&T(e,i)},onMouseLeave:e=>{F&&F(e);$({hover:-1,focus:-1}),T&&-1!==I&&T(e,-1)},className:m.default(a.root,l,"medium"!==A&&a[`size${s.capitalize(A)}`],u&&a.disabled,D&&a.focusVisible,w&&a.readOnly),role:w?"img":null,"aria-label":w?p(P):null},j),Array.from(new Array(x)).map(((e,t)=>{const n=t+1;if(O<1){const e=Array.from(new Array(1/O));return f.createElement("span",{key:n,className:m.default(a.decimal,n===Math.ceil(P)&&(-1!==I||-1!==V)&&a.iconActive)},e.map(((t,o)=>{const a=v(n-1+(o+1)*O,O);return Z({value:a,filled:a<=P,hover:a<=I,focus:a<=V,checked:a===S},{style:e.length-1===o?{}:{width:a===P?(o+1)*O*100+"%":"0%",overflow:"hidden",zIndex:1,position:"absolute"}})})))}return Z({value:n,active:n===P&&(-1!==I||-1!==V),filled:n<=P,hover:n<=I,focus:n<=V,checked:n===S})})),!w&&!u&&null==S&&f.createElement(f.Fragment,null,f.createElement("input",{value:"",id:`${k}-empty`,type:"radio",name:k,defaultChecked:!0,className:a.visuallyhidden}),f.createElement("label",{className:a.pristine,htmlFor:`${k}-empty`},f.createElement("span",{className:a.visuallyhidden},d))))}));"production"!==process.env.NODE_ENV&&(E.propTypes={classes:p.default.object,className:p.default.string,defaultValue:p.default.number,disabled:p.default.bool,emptyIcon:p.default.node,emptyLabelText:p.default.node,getLabelText:p.default.func,icon:p.default.node,IconContainerComponent:p.default.elementType,max:p.default.number,name:i.chainPropTypes(p.default.string,(e=>e.readOnly||e.name?null:new Error(["Material-UI: The prop `name` is required (when `readOnly` is false).","Additionally, the input name should be unique within the parent form."].join("\n")))),onChange:p.default.func,onChangeActive:p.default.func,onMouseLeave:p.default.func,onMouseMove:p.default.func,precision:i.chainPropTypes(p.default.number,(e=>e.precision<.1?new Error(["Material-UI: The prop `precision` should be above 0.1.","A value below this limit has an imperceptible impact."].join("\n")):null)),readOnly:p.default.bool,size:p.default.oneOf(["large","medium","small"]),value:p.default.number});var x=r.withStyles(h,{name:"MuiRating"})(E);e.default=x,e.styles=h,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=Rating.js.map
