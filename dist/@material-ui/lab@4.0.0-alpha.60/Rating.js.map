{"version":3,"file":"Rating.js","sources":["../../../node_modules/@material-ui/lab/es/Rating/Rating.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@material-ui/utils';\nimport { useTheme, withStyles } from '@material-ui/core/styles';\nimport { capitalize, useForkRef, useIsFocusVisible, useControlled, unstable_useId as useId } from '@material-ui/core/utils';\nimport Star from '../internal/svg-icons/Star';\n\nfunction clamp(value, min, max) {\n  if (value < min) {\n    return min;\n  }\n\n  if (value > max) {\n    return max;\n  }\n\n  return value;\n}\n\nfunction getDecimalPrecision(num) {\n  const decimalPart = num.toString().split('.')[1];\n  return decimalPart ? decimalPart.length : 0;\n}\n\nfunction roundValueToPrecision(value, precision) {\n  if (value == null) {\n    return value;\n  }\n\n  const nearest = Math.round(value / precision) * precision;\n  return Number(nearest.toFixed(getDecimalPrecision(precision)));\n}\n\nexport const styles = theme => ({\n  /* Styles applied to the root element. */\n  root: {\n    display: 'inline-flex',\n    position: 'relative',\n    fontSize: theme.typography.pxToRem(24),\n    color: '#ffb400',\n    cursor: 'pointer',\n    textAlign: 'left',\n    WebkitTapHighlightColor: 'transparent',\n    '&$disabled': {\n      opacity: 0.5,\n      pointerEvents: 'none'\n    },\n    '&$focusVisible $iconActive': {\n      outline: '1px solid #999'\n    }\n  },\n\n  /* Styles applied to the root element if `size=\"small\"`. */\n  sizeSmall: {\n    fontSize: theme.typography.pxToRem(18)\n  },\n\n  /* Styles applied to the root element if `size=\"large\"`. */\n  sizeLarge: {\n    fontSize: theme.typography.pxToRem(30)\n  },\n\n  /* Styles applied to the root element if `readOnly={true}`. */\n  readOnly: {\n    pointerEvents: 'none'\n  },\n\n  /* Pseudo-class applied to the root element if `disabled={true}`. */\n  disabled: {},\n\n  /* Pseudo-class applied to the root element if keyboard focused. */\n  focusVisible: {},\n\n  /* Visually hide an element. */\n  visuallyhidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    color: '#000',\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1\n  },\n\n  /* Styles applied to the pristine label. */\n  pristine: {\n    'input:focus + &': {\n      top: 0,\n      bottom: 0,\n      position: 'absolute',\n      outline: '1px solid #999',\n      width: '100%'\n    }\n  },\n\n  /* Styles applied to the label elements. */\n  label: {\n    cursor: 'inherit'\n  },\n\n  /* Styles applied to the icon wrapping elements. */\n  icon: {\n    display: 'flex',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest\n    }),\n    // Fix mouseLeave issue.\n    // https://github.com/facebook/react/issues/4492\n    pointerEvents: 'none'\n  },\n\n  /* Styles applied to the icon wrapping elements when empty. */\n  iconEmpty: {\n    color: theme.palette.action.disabled\n  },\n\n  /* Styles applied to the icon wrapping elements when filled. */\n  iconFilled: {},\n\n  /* Styles applied to the icon wrapping elements when hover. */\n  iconHover: {},\n\n  /* Styles applied to the icon wrapping elements when focus. */\n  iconFocus: {},\n\n  /* Styles applied to the icon wrapping elements when active. */\n  iconActive: {\n    transform: 'scale(1.2)'\n  },\n\n  /* Styles applied to the icon wrapping elements when decimals are necessary. */\n  decimal: {\n    position: 'relative'\n  }\n});\n\nfunction IconContainer(props) {\n  const other = _objectWithoutPropertiesLoose(props, [\"value\"]);\n\n  return /*#__PURE__*/React.createElement(\"span\", other);\n}\n\nprocess.env.NODE_ENV !== \"production\" ? IconContainer.propTypes = {\n  value: PropTypes.number.isRequired\n} : void 0;\nconst defaultIcon = /*#__PURE__*/React.createElement(Star, {\n  fontSize: \"inherit\"\n});\n\nfunction defaultLabelText(value) {\n  return `${value} Star${value !== 1 ? 's' : ''}`;\n}\n\nconst Rating = /*#__PURE__*/React.forwardRef(function Rating(props, ref) {\n  const {\n    classes,\n    className,\n    defaultValue = null,\n    disabled = false,\n    emptyIcon,\n    emptyLabelText = 'Empty',\n    getLabelText = defaultLabelText,\n    icon = defaultIcon,\n    IconContainerComponent = IconContainer,\n    max = 5,\n    name: nameProp,\n    onChange,\n    onChangeActive,\n    onMouseLeave,\n    onMouseMove,\n    precision = 1,\n    readOnly = false,\n    size = 'medium',\n    value: valueProp\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, [\"classes\", \"className\", \"defaultValue\", \"disabled\", \"emptyIcon\", \"emptyLabelText\", \"getLabelText\", \"icon\", \"IconContainerComponent\", \"max\", \"name\", \"onChange\", \"onChangeActive\", \"onMouseLeave\", \"onMouseMove\", \"precision\", \"readOnly\", \"size\", \"value\"]);\n\n  const name = useId(nameProp);\n  const [valueDerived, setValueState] = useControlled({\n    controlled: valueProp,\n    default: defaultValue,\n    name: 'Rating'\n  });\n  const valueRounded = roundValueToPrecision(valueDerived, precision);\n  const theme = useTheme();\n  const [{\n    hover,\n    focus\n  }, setState] = React.useState({\n    hover: -1,\n    focus: -1\n  });\n  let value = valueRounded;\n\n  if (hover !== -1) {\n    value = hover;\n  }\n\n  if (focus !== -1) {\n    value = focus;\n  }\n\n  const {\n    isFocusVisible,\n    onBlurVisible,\n    ref: focusVisibleRef\n  } = useIsFocusVisible();\n  const [focusVisible, setFocusVisible] = React.useState(false);\n  const rootRef = React.useRef();\n  const handleFocusRef = useForkRef(focusVisibleRef, rootRef);\n  const handleRef = useForkRef(handleFocusRef, ref);\n\n  const handleMouseMove = event => {\n    if (onMouseMove) {\n      onMouseMove(event);\n    }\n\n    const rootNode = rootRef.current;\n    const {\n      right,\n      left\n    } = rootNode.getBoundingClientRect();\n    const {\n      width\n    } = rootNode.firstChild.getBoundingClientRect();\n    let percent;\n\n    if (theme.direction === 'rtl') {\n      percent = (right - event.clientX) / (width * max);\n    } else {\n      percent = (event.clientX - left) / (width * max);\n    }\n\n    let newHover = roundValueToPrecision(max * percent + precision / 2, precision);\n    newHover = clamp(newHover, precision, max);\n    setState(prev => prev.hover === newHover && prev.focus === newHover ? prev : {\n      hover: newHover,\n      focus: newHover\n    });\n    setFocusVisible(false);\n\n    if (onChangeActive && hover !== newHover) {\n      onChangeActive(event, newHover);\n    }\n  };\n\n  const handleMouseLeave = event => {\n    if (onMouseLeave) {\n      onMouseLeave(event);\n    }\n\n    const newHover = -1;\n    setState({\n      hover: newHover,\n      focus: newHover\n    });\n\n    if (onChangeActive && hover !== newHover) {\n      onChangeActive(event, newHover);\n    }\n  };\n\n  const handleChange = event => {\n    const newValue = parseFloat(event.target.value);\n    setValueState(newValue);\n\n    if (onChange) {\n      onChange(event, newValue);\n    }\n  };\n\n  const handleClear = event => {\n    // Ignore keyboard events\n    // https://github.com/facebook/react/issues/7407\n    if (event.clientX === 0 && event.clientY === 0) {\n      return;\n    }\n\n    setState({\n      hover: -1,\n      focus: -1\n    });\n    setValueState(null);\n\n    if (onChange && parseFloat(event.target.value) === valueRounded) {\n      onChange(event, null);\n    }\n  };\n\n  const handleFocus = event => {\n    if (isFocusVisible(event)) {\n      setFocusVisible(true);\n    }\n\n    const newFocus = parseFloat(event.target.value);\n    setState(prev => ({\n      hover: prev.hover,\n      focus: newFocus\n    }));\n\n    if (onChangeActive && focus !== newFocus) {\n      onChangeActive(event, newFocus);\n    }\n  };\n\n  const handleBlur = event => {\n    if (hover !== -1) {\n      return;\n    }\n\n    if (focusVisible !== false) {\n      setFocusVisible(false);\n      onBlurVisible();\n    }\n\n    const newFocus = -1;\n    setState(prev => ({\n      hover: prev.hover,\n      focus: newFocus\n    }));\n\n    if (onChangeActive && focus !== newFocus) {\n      onChangeActive(event, newFocus);\n    }\n  };\n\n  const item = (state, labelProps) => {\n    const id = `${name}-${String(state.value).replace('.', '-')}`;\n    const container = /*#__PURE__*/React.createElement(IconContainerComponent, {\n      value: state.value,\n      className: clsx(classes.icon, state.filled ? classes.iconFilled : classes.iconEmpty, state.hover && classes.iconHover, state.focus && classes.iconFocus, state.active && classes.iconActive)\n    }, emptyIcon && !state.filled ? emptyIcon : icon);\n\n    if (readOnly) {\n      return /*#__PURE__*/React.createElement(\"span\", _extends({\n        key: state.value\n      }, labelProps), container);\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      key: state.value\n    }, /*#__PURE__*/React.createElement(\"label\", _extends({\n      className: classes.label,\n      htmlFor: id\n    }, labelProps), container, /*#__PURE__*/React.createElement(\"span\", {\n      className: classes.visuallyhidden\n    }, getLabelText(state.value))), /*#__PURE__*/React.createElement(\"input\", {\n      onFocus: handleFocus,\n      onBlur: handleBlur,\n      onChange: handleChange,\n      onClick: handleClear,\n      disabled: disabled,\n      value: state.value,\n      id: id,\n      type: \"radio\",\n      name: name,\n      checked: state.checked,\n      className: classes.visuallyhidden\n    }));\n  };\n\n  return /*#__PURE__*/React.createElement(\"span\", _extends({\n    ref: handleRef,\n    onMouseMove: handleMouseMove,\n    onMouseLeave: handleMouseLeave,\n    className: clsx(classes.root, className, size !== 'medium' && classes[`size${capitalize(size)}`], disabled && classes.disabled, focusVisible && classes.focusVisible, readOnly && classes.readOnly),\n    role: readOnly ? 'img' : null,\n    \"aria-label\": readOnly ? getLabelText(value) : null\n  }, other), Array.from(new Array(max)).map((_, index) => {\n    const itemValue = index + 1;\n\n    if (precision < 1) {\n      const items = Array.from(new Array(1 / precision));\n      return /*#__PURE__*/React.createElement(\"span\", {\n        key: itemValue,\n        className: clsx(classes.decimal, itemValue === Math.ceil(value) && (hover !== -1 || focus !== -1) && classes.iconActive)\n      }, items.map(($, indexDecimal) => {\n        const itemDecimalValue = roundValueToPrecision(itemValue - 1 + (indexDecimal + 1) * precision, precision);\n        return item({\n          value: itemDecimalValue,\n          filled: itemDecimalValue <= value,\n          hover: itemDecimalValue <= hover,\n          focus: itemDecimalValue <= focus,\n          checked: itemDecimalValue === valueRounded\n        }, {\n          style: items.length - 1 === indexDecimal ? {} : {\n            width: itemDecimalValue === value ? `${(indexDecimal + 1) * precision * 100}%` : '0%',\n            overflow: 'hidden',\n            zIndex: 1,\n            position: 'absolute'\n          }\n        });\n      }));\n    }\n\n    return item({\n      value: itemValue,\n      active: itemValue === value && (hover !== -1 || focus !== -1),\n      filled: itemValue <= value,\n      hover: itemValue <= hover,\n      focus: itemValue <= focus,\n      checked: itemValue === valueRounded\n    });\n  }), !readOnly && !disabled && valueRounded == null && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"input\", {\n    value: \"\",\n    id: `${name}-empty`,\n    type: \"radio\",\n    name: name,\n    defaultChecked: true,\n    className: classes.visuallyhidden\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: classes.pristine,\n    htmlFor: `${name}-empty`\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.visuallyhidden\n  }, emptyLabelText))));\n});\nprocess.env.NODE_ENV !== \"production\" ? Rating.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\r\n   * Override or extend the styles applied to the component.\r\n   * See [CSS API](#css) below for more details.\r\n   */\n  classes: PropTypes.object,\n\n  /**\r\n   * @ignore\r\n   */\n  className: PropTypes.string,\n\n  /**\r\n   * The default value. Use when the component is not controlled.\r\n   */\n  defaultValue: PropTypes.number,\n\n  /**\r\n   * If `true`, the rating will be disabled.\r\n   */\n  disabled: PropTypes.bool,\n\n  /**\r\n   * The icon to display when empty.\r\n   */\n  emptyIcon: PropTypes.node,\n\n  /**\r\n   * The label read when the rating input is empty.\r\n   */\n  emptyLabelText: PropTypes.node,\n\n  /**\r\n   * Accepts a function which returns a string value that provides a user-friendly name for the current value of the rating.\r\n   *\r\n   * For localization purposes, you can use the provided [translations](/guides/localization/).\r\n   *\r\n   * @param {number} value The rating label's value to format.\r\n   * @returns {string}\r\n   */\n  getLabelText: PropTypes.func,\n\n  /**\r\n   * The icon to display.\r\n   */\n  icon: PropTypes.node,\n\n  /**\r\n   * The component containing the icon.\r\n   */\n  IconContainerComponent: PropTypes.elementType,\n\n  /**\r\n   * Maximum rating.\r\n   */\n  max: PropTypes.number,\n\n  /**\r\n   * The name attribute of the radio `input` elements.\r\n   * If `readOnly` is false, the prop is required,\r\n   * this input name`should be unique within the parent form.\r\n   */\n  name: chainPropTypes(PropTypes.string, props => {\n    if (!props.readOnly && !props.name) {\n      return new Error(['Material-UI: The prop `name` is required (when `readOnly` is false).', 'Additionally, the input name should be unique within the parent form.'].join('\\n'));\n    }\n\n    return null;\n  }),\n\n  /**\r\n   * Callback fired when the value changes.\r\n   *\r\n   * @param {object} event The event source of the callback.\r\n   * @param {number} value The new value.\r\n   */\n  onChange: PropTypes.func,\n\n  /**\r\n   * Callback function that is fired when the hover state changes.\r\n   *\r\n   * @param {object} event The event source of the callback.\r\n   * @param {number} value The new value.\r\n   */\n  onChangeActive: PropTypes.func,\n\n  /**\r\n   * @ignore\r\n   */\n  onMouseLeave: PropTypes.func,\n\n  /**\r\n   * @ignore\r\n   */\n  onMouseMove: PropTypes.func,\n\n  /**\r\n   * The minimum increment value change allowed.\r\n   */\n  precision: chainPropTypes(PropTypes.number, props => {\n    if (props.precision < 0.1) {\n      return new Error(['Material-UI: The prop `precision` should be above 0.1.', 'A value below this limit has an imperceptible impact.'].join('\\n'));\n    }\n\n    return null;\n  }),\n\n  /**\r\n   * Removes all hover effects and pointer events.\r\n   */\n  readOnly: PropTypes.bool,\n\n  /**\r\n   * The size of the rating.\r\n   */\n  size: PropTypes.oneOf(['large', 'medium', 'small']),\n\n  /**\r\n   * The rating value.\r\n   */\n  value: PropTypes.number\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiRating'\n})(Rating);"],"names":["roundValueToPrecision","value","precision","nearest","Math","round","Number","toFixed","num","decimalPart","toString","split","length","getDecimalPrecision","styles","theme","root","display","position","fontSize","typography","pxToRem","color","cursor","textAlign","WebkitTapHighlightColor","opacity","pointerEvents","outline","sizeSmall","sizeLarge","readOnly","disabled","focusVisible","visuallyhidden","border","clip","height","margin","overflow","padding","top","width","pristine","bottom","label","icon","transition","transitions","create","duration","shortest","iconEmpty","palette","action","iconFilled","iconHover","iconFocus","iconActive","transform","decimal","IconContainer","props","other","_objectWithoutPropertiesLoose","React","createElement","process","env","NODE_ENV","propTypes","PropTypes","number","isRequired","defaultIcon","Star","defaultLabelText","Rating","forwardRef","ref","classes","className","defaultValue","emptyIcon","emptyLabelText","getLabelText","IconContainerComponent","max","name","nameProp","onChange","onChangeActive","onMouseLeave","onMouseMove","size","valueProp","useId","valueDerived","setValueState","useControlled","controlled","default","valueRounded","useTheme","hover","focus","setState","useState","isFocusVisible","onBlurVisible","focusVisibleRef","useIsFocusVisible","setFocusVisible","rootRef","useRef","handleFocusRef","useForkRef","handleRef","handleChange","event","newValue","parseFloat","target","handleClear","clientX","clientY","handleFocus","newFocus","prev","handleBlur","item","state","labelProps","id","String","replace","container","clsx","filled","active","_extends","key","Fragment","htmlFor","onFocus","onBlur","onClick","type","checked","rootNode","current","right","left","getBoundingClientRect","firstChild","percent","direction","newHover","min","clamp","capitalize","role","Array","from","map","_","index","itemValue","items","ceil","$","indexDecimal","itemDecimalValue","style","zIndex","defaultChecked","object","string","bool","node","func","elementType","chainPropTypes","Error","join","oneOf","withStyles"],"mappings":"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"}