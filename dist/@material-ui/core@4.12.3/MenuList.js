define(["../extends","../objectWithoutPropertiesLoose","react","react-is","prop-types","react-dom","./utils/ownerDocument","./List","./utils/getScrollbarSize","./utils/useForkRef","clsx","./styles/withStyles","@material-ui/styles","./styles/defaultTheme","./styles/createTheme","@material-ui/utils","./styles/createBreakpoints","./styles/createMixins","./styles/createPalette","./colors/common","./colors/grey","./colors/indigo","./colors/pink","./colors/red","./colors/orange","./colors/blue","./colors/green","./styles/colorManipulator","./styles/createTypography","./styles/shadows","./styles/shape","./styles/createSpacing","@material-ui/system","./styles/transitions","./styles/zIndex","./List/ListContext","./utils/setRef"],(function(e,t,n,s,r,o,l,i,a,u,c,d,f,p,y,m,b,h,g,v,w,E,x,D,C,F,M,k,I,L,j,O,S,N,T,K,R){function _(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function P(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var W=P(n),A=_(r),H=P(o);function z(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function V(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function U(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function $(e,t,n,s,r,o){let l=!1,i=r(e,t,!!t&&n);for(;i;){if(i===e.firstChild){if(l)return;l=!0}const t=!s&&(i.disabled||"true"===i.getAttribute("aria-disabled"));if(i.hasAttribute("tabindex")&&U(i,o)&&!t)return void i.focus();i=r(e,i,n)}}const B="undefined"==typeof window?W.useEffect:W.useLayoutEffect,q=W.forwardRef((function(n,r){const{actions:o,autoFocus:c=!1,autoFocusItem:d=!1,children:f,className:p,disabledItemsFocusable:y=!1,disableListWrap:m=!1,onKeyDown:b,variant:h="selectedMenu"}=n,g=t._objectWithoutPropertiesLoose(n,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),v=W.useRef(null),w=W.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});B((()=>{c&&v.current.focus()}),[c]),W.useImperativeHandle(o,(()=>({adjustStyleForScrollbar:(e,t)=>{const n=!v.current.style.width;if(e.clientHeight<v.current.clientHeight&&n){const e=`${a()}px`;v.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=e,v.current.style.width=`calc(100% + ${e})`}return v.current}})),[]);const E=W.useCallback((e=>{v.current=H.findDOMNode(e)}),[]),x=u(E,r);let D=-1;W.Children.forEach(f,((e,t)=>{W.isValidElement(e)&&("production"!==process.env.NODE_ENV&&s.isFragment(e)&&console.error(["Material-UI: The Menu component doesn't accept a Fragment as a child.","Consider providing an array instead."].join("\n")),e.props.disabled||("selectedMenu"===h&&e.props.selected||-1===D)&&(D=t))}));const C=W.Children.map(f,((e,t)=>{if(t===D){const t={};return d&&(t.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===h&&(t.tabIndex=0),W.cloneElement(e,t)}return e}));return W.createElement(i.default,e._extends({role:"menu",ref:x,className:p,onKeyDown:e=>{const t=v.current,n=e.key,s=l(t).activeElement;if("ArrowDown"===n)e.preventDefault(),$(t,s,m,y,z);else if("ArrowUp"===n)e.preventDefault(),$(t,s,m,y,V);else if("Home"===n)e.preventDefault(),$(t,null,m,y,z);else if("End"===n)e.preventDefault(),$(t,null,m,y,V);else if(1===n.length){const r=w.current,o=n.toLowerCase(),l=performance.now();r.keys.length>0&&(l-r.lastTime>500?(r.keys=[],r.repeating=!0,r.previousKeyMatched=!0):r.repeating&&o!==r.keys[0]&&(r.repeating=!1)),r.lastTime=l,r.keys.push(o);const i=s&&!r.repeating&&U(s,r);r.previousKeyMatched&&(i||$(t,s,!1,y,z,r))?e.preventDefault():r.previousKeyMatched=!1}b&&b(e)},tabIndex:c?0:-1},g),C)}));return"production"!==process.env.NODE_ENV&&(q.propTypes={autoFocus:A.default.bool,autoFocusItem:A.default.bool,children:A.default.node,className:A.default.string,disabledItemsFocusable:A.default.bool,disableListWrap:A.default.bool,onKeyDown:A.default.func,variant:A.default.oneOf(["menu","selectedMenu"])}),q}));
//# sourceMappingURL=MenuList.js.map
