define(["exports","../utils/getScrollbarSize","../utils/ownerDocument","../utils/ownerWindow"],(function(e,t,n,o){function i(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function s(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function l(e,t,n,o=[],s){const l=[t,n,...o],r=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(e=>{1===e.nodeType&&-1===l.indexOf(e)&&-1===r.indexOf(e.tagName)&&i(e,s)}))}function r(e,t){let n=-1;return e.some(((e,o)=>!!t(e)&&(n=o,!0))),n}function d(e,i){const l=[],r=[],d=e.container;let a;if(!i.disableScrollLock){if(function(e){const t=n(e);return t.body===e?o(t).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(d)){const e=t();l.push({value:d.style.paddingRight,key:"padding-right",el:d}),d.style["padding-right"]=`${s(d)+e}px`,a=n(d).querySelectorAll(".mui-fixed"),[].forEach.call(a,(t=>{r.push(t.style.paddingRight),t.style.paddingRight=`${s(t)+e}px`}))}const e=d.parentElement,i="HTML"===e.nodeName&&"scroll"===window.getComputedStyle(e)["overflow-y"]?e:d;l.push({value:i.style.overflow,key:"overflow",el:i}),i.style.overflow="hidden"}return()=>{a&&[].forEach.call(a,((e,t)=>{r[t]?e.style.paddingRight=r[t]:e.style.removeProperty("padding-right")})),l.forEach((({value:e,el:t,key:n})=>{e?t.style.setProperty(n,e):t.style.removeProperty(n)}))}}e.ariaHidden=i,e.default=class{constructor(){this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&i(e.modalRef,!1);const o=function(e){const t=[];return[].forEach.call(e.children,(e=>{e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);l(t,e.mountNode,e.modalRef,o,!0);const s=r(this.containers,(e=>e.container===t));return-1!==s?(this.containers[s].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:o}),n)}mount(e,t){const n=r(this.containers,(t=>-1!==t.modals.indexOf(e))),o=this.containers[n];o.restore||(o.restore=d(o,t))}remove(e){const t=this.modals.indexOf(e);if(-1===t)return t;const n=r(this.containers,(t=>-1!==t.modals.indexOf(e))),o=this.containers[n];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(t,1),0===o.modals.length)o.restore&&o.restore(),e.modalRef&&i(e.modalRef,!0),l(o.container,e.mountNode,e.modalRef,o.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{const e=o.modals[o.modals.length-1];e.modalRef&&i(e.modalRef,!1)}return t}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ModalManager.js.map
