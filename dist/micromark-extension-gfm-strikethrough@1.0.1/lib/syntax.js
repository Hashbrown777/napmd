define(["exports","micromark-util-chunked","micromark-util-classify-character","micromark-util-resolve-all"],(function(e,t,r,n){e.gfmStrikethrough=function(e={}){let s=e.singleTilde;const i={tokenize:function(e,t,n){const i=this.previous,o=this.events;let c=0;return function(t){if(126===i&&"characterEscape"!==o[o.length-1][1].type)return n(t);return e.enter("strikethroughSequenceTemporary"),l(t)};function l(o){const u=r.classifyCharacter(i);if(126===o)return c>1?n(o):(e.consume(o),c++,l);if(c<2&&!s)return n(o);const a=e.exit("strikethroughSequenceTemporary"),h=r.classifyCharacter(o);return a._open=!h||2===h&&Boolean(u),a._close=!u||2===u&&Boolean(h),t(o)}},resolveAll:function(e,r){let s=-1;for(;++s<e.length;)if("enter"===e[s][0]&&"strikethroughSequenceTemporary"===e[s][1].type&&e[s][1]._close){let i=s;for(;i--;)if("exit"===e[i][0]&&"strikethroughSequenceTemporary"===e[i][1].type&&e[i][1]._open&&e[s][1].end.offset-e[s][1].start.offset==e[i][1].end.offset-e[i][1].start.offset){e[s][1].type="strikethroughSequence",e[i][1].type="strikethroughSequence";const o={type:"strikethrough",start:Object.assign({},e[i][1].start),end:Object.assign({},e[s][1].end)},c={type:"strikethroughText",start:Object.assign({},e[i][1].end),end:Object.assign({},e[s][1].start)},l=[["enter",o,r],["enter",e[i][1],r],["exit",e[i][1],r],["enter",c,r]];t.splice(l,l.length,0,n.resolveAll(r.parser.constructs.insideSpan.null,e.slice(i+1,s),r)),t.splice(l,l.length,0,[["exit",c,r],["enter",e[s][1],r],["exit",e[s][1],r],["exit",o,r]]),t.splice(e,i-1,s-i+3,l),s=i+l.length-2;break}}s=-1;for(;++s<e.length;)"strikethroughSequenceTemporary"===e[s][1].type&&(e[s][1].type="data");return e}};return null==s&&(s=!0),{text:{126:i},insideSpan:{null:[i]},attentionMarkers:{null:[126]}}},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=syntax.js.map
