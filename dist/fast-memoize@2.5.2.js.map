{"version":3,"file":"fast-memoize@2.5.2.js","sources":["../node_modules/fast-memoize/src/index.js"],"sourcesContent":["//\n// Main\n//\n\nfunction memoize (fn, options) {\n  var cache = options && options.cache\n    ? options.cache\n    : cacheDefault\n\n  var serializer = options && options.serializer\n    ? options.serializer\n    : serializerDefault\n\n  var strategy = options && options.strategy\n    ? options.strategy\n    : strategyDefault\n\n  return strategy(fn, {\n    cache: cache,\n    serializer: serializer\n  })\n}\n\n//\n// Strategy\n//\n\nfunction isPrimitive (value) {\n  return value == null || typeof value === 'number' || typeof value === 'boolean' // || typeof value === \"string\" 'unsafe' primitive for our needs\n}\n\nfunction monadic (fn, cache, serializer, arg) {\n  var cacheKey = isPrimitive(arg) ? arg : serializer(arg)\n\n  var computedValue = cache.get(cacheKey)\n  if (typeof computedValue === 'undefined') {\n    computedValue = fn.call(this, arg)\n    cache.set(cacheKey, computedValue)\n  }\n\n  return computedValue\n}\n\nfunction variadic (fn, cache, serializer) {\n  var args = Array.prototype.slice.call(arguments, 3)\n  var cacheKey = serializer(args)\n\n  var computedValue = cache.get(cacheKey)\n  if (typeof computedValue === 'undefined') {\n    computedValue = fn.apply(this, args)\n    cache.set(cacheKey, computedValue)\n  }\n\n  return computedValue\n}\n\nfunction assemble (fn, context, strategy, cache, serialize) {\n  return strategy.bind(\n    context,\n    fn,\n    cache,\n    serialize\n  )\n}\n\nfunction strategyDefault (fn, options) {\n  var strategy = fn.length === 1 ? monadic : variadic\n\n  return assemble(\n    fn,\n    this,\n    strategy,\n    options.cache.create(),\n    options.serializer\n  )\n}\n\nfunction strategyVariadic (fn, options) {\n  var strategy = variadic\n\n  return assemble(\n    fn,\n    this,\n    strategy,\n    options.cache.create(),\n    options.serializer\n  )\n}\n\nfunction strategyMonadic (fn, options) {\n  var strategy = monadic\n\n  return assemble(\n    fn,\n    this,\n    strategy,\n    options.cache.create(),\n    options.serializer\n  )\n}\n\n//\n// Serializer\n//\n\nfunction serializerDefault () {\n  return JSON.stringify(arguments)\n}\n\n//\n// Cache\n//\n\nfunction ObjectWithoutPrototypeCache () {\n  this.cache = Object.create(null)\n}\n\nObjectWithoutPrototypeCache.prototype.has = function (key) {\n  return (key in this.cache)\n}\n\nObjectWithoutPrototypeCache.prototype.get = function (key) {\n  return this.cache[key]\n}\n\nObjectWithoutPrototypeCache.prototype.set = function (key, value) {\n  this.cache[key] = value\n}\n\nvar cacheDefault = {\n  create: function create () {\n    return new ObjectWithoutPrototypeCache()\n  }\n}\n\n//\n// API\n//\n\nmodule.exports = memoize\nmodule.exports.strategies = {\n  variadic: strategyVariadic,\n  monadic: strategyMonadic\n}\n"],"names":["monadic","fn","cache","serializer","arg","value","cacheKey","computedValue","get","call","this","set","variadic","args","Array","prototype","slice","arguments","apply","assemble","context","strategy","serialize","bind","strategyDefault","options","length","create","serializerDefault","JSON","stringify","ObjectWithoutPrototypeCache","Object","has","key","cacheDefault"],"mappings":"mDA+BA,SAASA,EAASC,EAAIC,EAAOC,EAAYC,GACvC,IALoBC,EAKhBC,EAJY,OADID,EAKOD,IAJc,iBAAVC,GAAuC,kBAAVA,EAI1BD,EAAMD,EAAWC,GAE/CG,EAAgBL,EAAMM,IAAIF,GAM9B,YAL6B,IAAlBC,IACTA,EAAgBN,EAAGQ,KAAKC,KAAMN,GAC9BF,EAAMS,IAAIL,EAAUC,IAGfA,EAGT,SAASK,EAAUX,EAAIC,EAAOC,GAC5B,IAAIU,EAAOC,MAAMC,UAAUC,MAAMP,KAAKQ,UAAW,GAC7CX,EAAWH,EAAWU,GAEtBN,EAAgBL,EAAMM,IAAIF,GAM9B,YAL6B,IAAlBC,IACTA,EAAgBN,EAAGiB,MAAMR,KAAMG,GAC/BX,EAAMS,IAAIL,EAAUC,IAGfA,EAGT,SAASY,EAAUlB,EAAImB,EAASC,EAAUnB,EAAOoB,GAC/C,OAAOD,EAASE,KACdH,EACAnB,EACAC,EACAoB,GAIJ,SAASE,EAAiBvB,EAAIwB,GAG5B,OAAON,EACLlB,EACAS,KAJ2B,IAAdT,EAAGyB,OAAe1B,EAAUY,EAMzCa,EAAQvB,MAAMyB,SACdF,EAAQtB,YAgCZ,SAASyB,IACP,OAAOC,KAAKC,UAAUb,WAOxB,SAASc,IACPrB,KAAKR,MAAQ8B,OAAOL,OAAO,MAG7BI,EAA4BhB,UAAUkB,IAAM,SAAUC,GACpD,OAAQA,KAAOxB,KAAKR,OAGtB6B,EAA4BhB,UAAUP,IAAM,SAAU0B,GACpD,OAAOxB,KAAKR,MAAMgC,IAGpBH,EAA4BhB,UAAUJ,IAAM,SAAUuB,EAAK7B,GACzDK,KAAKR,MAAMgC,GAAO7B,GAGpB,IAAI8B,EAAe,CACjBR,OAAQ,WACN,OAAO,IAAII,cA/Hf,SAAkB9B,EAAIwB,GACpB,IAAIvB,EAAQuB,GAAWA,EAAQvB,MAC3BuB,EAAQvB,MACRiC,EAEAhC,EAAasB,GAAWA,EAAQtB,WAChCsB,EAAQtB,WACRyB,EAMJ,OAJeH,GAAWA,EAAQJ,SAC9BI,EAAQJ,SACRG,GAEYvB,EAAI,CAClBC,MAAOA,EACPC,WAAYA,gCAyHY,CAC1BS,SAhEF,SAA2BX,EAAIwB,GAG7B,OAAON,EACLlB,EACAS,KAJaE,EAMba,EAAQvB,MAAMyB,SACdF,EAAQtB,aAyDVH,QArDF,SAA0BC,EAAIwB,GAG5B,OAAON,EACLlB,EACAS,KAJaV,EAMbyB,EAAQvB,MAAMyB,SACdF,EAAQtB"}