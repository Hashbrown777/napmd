{"version":3,"file":"list-item.js","sources":["../../../../node_modules/mdast-util-to-markdown/lib/handle/list-item.js"],"sourcesContent":["/**\n * @typedef {import('mdast').ListItem} ListItem\n * @typedef {import('mdast').List} List\n * @typedef {import('../util/indent-lines.js').Map} Map\n * @typedef {import('../types.js').Options} Options\n * @typedef {import('../types.js').Handle} Handle\n */\n\nimport {checkBullet} from '../util/check-bullet.js'\nimport {checkListItemIndent} from '../util/check-list-item-indent.js'\nimport {containerFlow} from '../util/container-flow.js'\nimport {indentLines} from '../util/indent-lines.js'\n\n/**\n * @type {Handle}\n * @param {ListItem} node\n */\nexport function listItem(node, parent, context) {\n  const listItemIndent = checkListItemIndent(context)\n  let bullet = context.bulletCurrent || checkBullet(context)\n\n  // Add the marker value for ordered lists.\n  if (parent && parent.type === 'list' && parent.ordered) {\n    bullet =\n      (typeof parent.start === 'number' && parent.start > -1\n        ? parent.start\n        : 1) +\n      (context.options.incrementListMarker === false\n        ? 0\n        : parent.children.indexOf(node)) +\n      bullet\n  }\n\n  let size = bullet.length + 1\n\n  if (\n    listItemIndent === 'tab' ||\n    (listItemIndent === 'mixed' &&\n      ((parent && parent.type === 'list' && parent.spread) || node.spread))\n  ) {\n    size = Math.ceil(size / 4) * 4\n  }\n\n  const exit = context.enter('listItem')\n  const value = indentLines(containerFlow(node, context), map)\n  exit()\n\n  return value\n\n  /** @type {Map} */\n  function map(line, index, blank) {\n    if (index) {\n      return (blank ? '' : ' '.repeat(size)) + line\n    }\n\n    return (blank ? bullet : bullet + ' '.repeat(size - bullet.length)) + line\n  }\n}\n"],"names":["node","parent","context","listItemIndent","checkListItemIndent","bullet","bulletCurrent","checkBullet","type","ordered","start","options","incrementListMarker","children","indexOf","size","length","spread","Math","ceil","exit","enter","value","indentLines","containerFlow","line","index","blank","repeat"],"mappings":"2JAiBO,SAAkBA,EAAMC,EAAQC,GACrC,MAAMC,EAAiBC,sBAAoBF,GAC3C,IAAIG,EAASH,EAAQI,eAAiBC,cAAYL,GAG9CD,GAA0B,SAAhBA,EAAOO,MAAmBP,EAAOQ,UAC7CJ,GAC2B,iBAAjBJ,EAAOS,OAAsBT,EAAOS,OAAS,EACjDT,EAAOS,MACP,KACqC,IAAxCR,EAAQS,QAAQC,oBACb,EACAX,EAAOY,SAASC,QAAQd,IAC5BK,GAGJ,IAAIU,EAAOV,EAAOW,OAAS,GAGN,QAAnBb,GACoB,UAAnBA,IACGF,GAA0B,SAAhBA,EAAOO,MAAmBP,EAAOgB,QAAWjB,EAAKiB,WAE/DF,EAA6B,EAAtBG,KAAKC,KAAKJ,EAAO,IAG1B,MAAMK,EAAOlB,EAAQmB,MAAM,YACrBC,EAAQC,cAAYC,gBAAcxB,EAAME,IAM9C,SAAauB,EAAMC,EAAOC,GACxB,GAAID,EACF,OAAQC,EAAQ,GAAK,IAAIC,OAAOb,IAASU,EAG3C,OAAQE,EAAQtB,EAASA,EAAS,IAAIuB,OAAOb,EAAOV,EAAOW,SAAWS,KARxE,OAFAL,IAEOE"}