define(["exports","longest-streak","../util/format-code-as-indented","../util/check-fence","../util/indent-lines","../util/safe","../util/pattern-compile","../util/pattern-in-scope"],(function(e,n,t,c,a,o,d,r){function i(e,n,t){return(t?"":"    ")+e}e.code=function(e,d,r){const l=c.checkFence(r),f=e.value||"",s="`"===l?"GraveAccent":"Tilde";let u,p;if(t.formatCodeAsIndented(e,r))p=r.enter("codeIndented"),u=a.indentLines(f,i);else{const t=l.repeat(Math.max(n.longestStreak(f,l)+1,3));let c;p=r.enter("codeFenced"),u=t,e.lang&&(c=r.enter("codeFencedLang"+s),u+=o.safe(r,e.lang,{before:"`",after:" ",encode:["`"]}),c()),e.lang&&e.meta&&(c=r.enter("codeFencedMeta"+s),u+=" "+o.safe(r,e.meta,{before:" ",after:"\n",encode:["`"]}),c()),u+="\n",f&&(u+=f+"\n"),u+=t}return p(),u},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=code.js.map
