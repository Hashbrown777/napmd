{"version":3,"file":"definition.js","sources":["../../../../node_modules/mdast-util-to-markdown/lib/handle/definition.js"],"sourcesContent":["/**\n * @typedef {import('mdast').Definition} Definition\n * @typedef {import('../types.js').Handle} Handle\n */\n\nimport {association} from '../util/association.js'\nimport {checkQuote} from '../util/check-quote.js'\nimport {safe} from '../util/safe.js'\n\n/**\n * @type {Handle}\n * @param {Definition} node\n */\nexport function definition(node, _, context) {\n  const marker = checkQuote(context)\n  const suffix = marker === '\"' ? 'Quote' : 'Apostrophe'\n  const exit = context.enter('definition')\n  let subexit = context.enter('label')\n  let value =\n    '[' + safe(context, association(node), {before: '[', after: ']'}) + ']: '\n\n  subexit()\n\n  if (\n    // If there’s no url, or…\n    !node.url ||\n    // If there’s whitespace, enclosed is prettier.\n    /[ \\t\\r\\n]/.test(node.url)\n  ) {\n    subexit = context.enter('destinationLiteral')\n    value += '<' + safe(context, node.url, {before: '<', after: '>'}) + '>'\n  } else {\n    // No whitespace, raw is prettier.\n    subexit = context.enter('destinationRaw')\n    value += safe(context, node.url, {before: ' ', after: ' '})\n  }\n\n  subexit()\n\n  if (node.title) {\n    subexit = context.enter('title' + suffix)\n    value +=\n      ' ' +\n      marker +\n      safe(context, node.title, {before: marker, after: marker}) +\n      marker\n    subexit()\n  }\n\n  exit()\n\n  return value\n}\n"],"names":["node","_","context","marker","checkQuote","suffix","exit","enter","subexit","value","safe","association","before","after","url","test","title"],"mappings":"wMAaO,SAAoBA,EAAMC,EAAGC,GAClC,MAAMC,EAASC,aAAWF,GACpBG,EAAoB,MAAXF,EAAiB,QAAU,aACpCG,EAAOJ,EAAQK,MAAM,cAC3B,IAAIC,EAAUN,EAAQK,MAAM,SACxBE,EACF,IAAMC,OAAKR,EAASS,cAAYX,GAAO,CAACY,OAAQ,IAAKC,MAAO,MAAQ,MAgCtE,OA9BAL,KAIGR,EAAKc,KAEN,YAAYC,KAAKf,EAAKc,MAEtBN,EAAUN,EAAQK,MAAM,sBACxBE,GAAS,IAAMC,OAAKR,EAASF,EAAKc,IAAK,CAACF,OAAQ,IAAKC,MAAO,MAAQ,MAGpEL,EAAUN,EAAQK,MAAM,kBACxBE,GAASC,OAAKR,EAASF,EAAKc,IAAK,CAACF,OAAQ,IAAKC,MAAO,OAGxDL,IAEIR,EAAKgB,QACPR,EAAUN,EAAQK,MAAM,QAAUF,GAClCI,GACE,IACAN,EACAO,OAAKR,EAASF,EAAKgB,MAAO,CAACJ,OAAQT,EAAQU,MAAOV,IAClDA,EACFK,KAGFF,IAEOG"}