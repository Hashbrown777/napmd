{"version":3,"file":"table.js","sources":["../../../../node_modules/mdast-util-to-hast/lib/handlers/table.js"],"sourcesContent":["/**\n * @typedef {import('mdast').Table} Table\n * @typedef {import('mdast').TableCell} TableCell\n * @typedef {import('hast').Element} Element\n * @typedef {import('../index.js').Handler} Handler\n * @typedef {import('../index.js').Content} Content\n */\n\nimport {pointStart, pointEnd} from 'unist-util-position'\nimport {wrap} from '../wrap.js'\nimport {all} from '../traverse.js'\n\n/**\n * @type {Handler}\n * @param {Table} node\n */\nexport function table(h, node) {\n  const rows = node.children\n  let index = -1\n  const align = node.align || []\n  /** @type {Array.<Element>} */\n  const result = []\n\n  while (++index < rows.length) {\n    const row = rows[index].children\n    const name = index === 0 ? 'th' : 'td'\n    let pos = node.align ? align.length : row.length\n    /** @type {Array.<Content>} */\n    const out = []\n\n    while (pos--) {\n      const cell = row[pos]\n      out[pos] = h(cell, name, {align: align[pos]}, cell ? all(h, cell) : [])\n    }\n\n    result[index] = h(rows[index], 'tr', wrap(out, true))\n  }\n\n  return h(\n    node,\n    'table',\n    wrap(\n      [h(result[0].position, 'thead', wrap([result[0]], true))].concat(\n        result[1]\n          ? h(\n              {\n                start: pointStart(result[1]),\n                end: pointEnd(result[result.length - 1])\n              },\n              'tbody',\n              wrap(result.slice(1), true)\n            )\n          : []\n      ),\n      true\n    )\n  )\n}\n"],"names":["h","node","rows","children","index","align","result","length","row","name","pos","out","cell","all","wrap","position","concat","start","pointStart","end","pointEnd","slice"],"mappings":"8GAgBO,SAAeA,EAAGC,GACvB,MAAMC,EAAOD,EAAKE,SAClB,IAAIC,GAAS,EACb,MAAMC,EAAQJ,EAAKI,OAAS,GAEtBC,EAAS,GAEf,OAASF,EAAQF,EAAKK,QAAQ,CAC5B,MAAMC,EAAMN,EAAKE,GAAOD,SAClBM,EAAiB,IAAVL,EAAc,KAAO,KAClC,IAAIM,EAAMT,EAAKI,MAAQA,EAAME,OAASC,EAAID,OAE1C,MAAMI,EAAM,GAEZ,KAAOD,KAAO,CACZ,MAAME,EAAOJ,EAAIE,GACjBC,EAAID,GAAOV,EAAEY,EAAMH,EAAM,CAACJ,MAAOA,EAAMK,IAAOE,EAAOC,MAAIb,EAAGY,GAAQ,IAGtEN,EAAOF,GAASJ,EAAEE,EAAKE,GAAQ,KAAMU,OAAKH,GAAK,IAGjD,OAAOX,EACLC,EACA,QACAa,OACE,CAACd,EAAEM,EAAO,GAAGS,SAAU,QAASD,OAAK,CAACR,EAAO,KAAK,KAAQU,OACxDV,EAAO,GACHN,EACE,CACEiB,MAAOC,aAAWZ,EAAO,IACzBa,IAAKC,WAASd,EAAOA,EAAOC,OAAS,KAEvC,QACAO,OAAKR,EAAOe,MAAM,IAAI,IAExB,KAEN"}