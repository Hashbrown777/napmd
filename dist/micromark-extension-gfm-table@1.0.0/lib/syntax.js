define(["exports","micromark-factory-space","micromark-util-character"],(function(e,t,n){const r={flow:{null:{tokenize:function(e,r,o){const a=this,u=[];let c,m,p=0;return function(t){if(e.enter("table")._align=u,e.enter("tableHead"),e.enter("tableRow"),124===t)return d(t);return p++,e.enter("temporaryTableCellContent"),b(t)};function d(t){return e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),c=!0,f}function f(t){return null===t||n.markdownLineEnding(t)?function(t){if(null===t)return o(t);return e.exit("tableRow"),e.exit("tableHead"),e.attempt({tokenize:P,partial:!0},k,o)(t)}(t):n.markdownSpace(t)?(e.enter("whitespace"),e.consume(t),s):(c&&(c=void 0,p++),124===t?d(t):(e.enter("temporaryTableCellContent"),b(t)))}function s(t){return n.markdownSpace(t)?(e.consume(t),s):(e.exit("whitespace"),f(t))}function b(t){return null===t||124===t||n.markdownLineEndingOrSpace(t)?(e.exit("temporaryTableCellContent"),f(t)):(e.consume(t),92===t?w:b)}function w(t){return 92===t||124===t?(e.consume(t),b):b(t)}function k(n){return e.check(i,o,t.factorySpace(e,x,"linePrefix",4))(n)}function x(t){return null===t||n.markdownLineEndingOrSpace(t)?o(t):(e.enter("tableDelimiterRow"),y(t))}function y(t){return null===t||n.markdownLineEnding(t)?v(t):n.markdownSpace(t)?(e.enter("whitespace"),e.consume(t),C):45===t?(e.enter("tableDelimiterFiller"),e.consume(t),m=!0,u.push(null),D):58===t?(e.enter("tableDelimiterAlignment"),e.consume(t),e.exit("tableDelimiterAlignment"),u.push("left"),g):124===t?(e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),y):o(t)}function C(t){return n.markdownSpace(t)?(e.consume(t),C):(e.exit("whitespace"),y(t))}function D(t){return 45===t?(e.consume(t),D):(e.exit("tableDelimiterFiller"),58===t?(e.enter("tableDelimiterAlignment"),e.consume(t),e.exit("tableDelimiterAlignment"),u[u.length-1]="left"===u[u.length-1]?"center":"right",h):y(t))}function g(t){return 45===t?(e.enter("tableDelimiterFiller"),e.consume(t),m=!0,D):o(t)}function h(t){return null===t||n.markdownLineEnding(t)?v(t):n.markdownSpace(t)?(e.enter("whitespace"),e.consume(t),C):124===t?(e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),y):o(t)}function v(n){return e.exit("tableDelimiterRow"),m&&p===u.length?null===n?S(n):e.check(l,S,e.attempt({tokenize:P,partial:!0},t.factorySpace(e,E,"linePrefix",4),S))(n):o(n)}function S(t){return e.exit("table"),r(t)}function E(t){return e.enter("tableBody"),R(t)}function R(t){return e.enter("tableRow"),124===t?T(t):(e.enter("temporaryTableCellContent"),O(t))}function T(t){return e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),L}function L(r){return null===r||n.markdownLineEnding(r)?function(n){if(e.exit("tableRow"),null===n)return H(n);return e.check(l,H,e.attempt({tokenize:P,partial:!0},t.factorySpace(e,R,"linePrefix",4),H))(n)}(r):n.markdownSpace(r)?(e.enter("whitespace"),e.consume(r),z):124===r?T(r):(e.enter("temporaryTableCellContent"),O(r))}function z(t){return n.markdownSpace(t)?(e.consume(t),z):(e.exit("whitespace"),L(t))}function O(t){return null===t||124===t||n.markdownLineEndingOrSpace(t)?(e.exit("temporaryTableCellContent"),L(t)):(e.consume(t),92===t?A:O)}function A(t){return 92===t||124===t?(e.consume(t),O):O(t)}function H(t){return e.exit("tableBody"),S(t)}function P(e,t,n){return function(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),r};function r(e){return a.parser.lazy[a.now().line]?n(e):t(e)}}},resolve:function(e,t){let n,r,i,l,o,a,u=-1;for(;++u<e.length;){const c=e[u][1];if(i&&("temporaryTableCellContent"===c.type&&(l=l||u,o=u),("tableCellDivider"===c.type||"tableRow"===c.type)&&o)){const n={type:"tableContent",start:e[l][1].start,end:e[o][1].end},r={type:"chunkText",start:n.start,end:n.end,contentType:"text"};e.splice(l,o-l+1,["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]),u-=o-l-3,l=void 0,o=void 0}if("exit"===e[u][0]&&a&&a+1<u&&("tableCellDivider"===c.type||"tableRow"===c.type&&(a+3<u||"whitespace"!==e[a][1].type))){const i={type:r?"tableDelimiter":n?"tableHeader":"tableData",start:e[a][1].start,end:e[u][1].end};e.splice(u+("tableCellDivider"===c.type?1:0),0,["exit",i,t]),e.splice(a,0,["enter",i,t]),u+=2,a=u+1}"tableRow"===c.type&&(i="enter"===e[u][0],i&&(a=u+1)),"tableDelimiterRow"===c.type&&(r="enter"===e[u][0],r&&(a=u+1)),"tableHead"===c.type&&(n="enter"===e[u][0])}return e}}}},i={tokenize:function(e,t,r){return function(t){if(45!==t)return r(t);return e.enter("setextUnderline"),i(t)};function i(t){return 45===t?(e.consume(t),i):l(t)}function l(i){return null===i||n.markdownLineEnding(i)?t(i):n.markdownSpace(i)?(e.consume(i),l):r(i)}},partial:!0},l={tokenize:function(e,t,r){let i=0;return function(t){return e.enter("check"),e.consume(t),l};function l(o){return-1===o||32===o?(e.consume(o),i++,4===i?t:l):null===o||n.markdownLineEndingOrSpace(o)?t(o):r(o)}},partial:!0};e.gfmTable=r,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=syntax.js.map
