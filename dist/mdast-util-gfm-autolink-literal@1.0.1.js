define(["exports","ccount","mdast-util-find-and-replace","micromark-util-character"],(function(t,n,e,i){const l="phrasing",r=["autolink","link","image","label"],o={transforms:[function(t){e.findAndReplace(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,a],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,s]],{ignore:["link","linkReference"]})}],enter:{literalAutolink:function(t){this.enter({type:"link",title:null,url:"",children:[]},t)},literalAutolinkEmail:u,literalAutolinkHttp:u,literalAutolinkWww:u},exit:{literalAutolink:function(t){this.exit(t)},literalAutolinkEmail:function(t){this.config.exit.autolinkEmail.call(this,t)},literalAutolinkHttp:function(t){this.config.exit.autolinkProtocol.call(this,t)},literalAutolinkWww:function(t){this.config.exit.data.call(this,t);this.stack[this.stack.length-1].url="http://"+this.sliceSerialize(t)}}},c={unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:l,notInConstruct:r},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:l,notInConstruct:r},{character:":",before:"[ps]",after:"\\/",inConstruct:l,notInConstruct:r}]};function u(t){this.config.enter.autolinkProtocol.call(this,t)}function a(t,e,i,l,r){let o="";if(!f(r))return!1;if(/^w/i.test(e)&&(i=e+i,e="",o="http://"),!function(t){const n=t.split(".");if(n.length<2||n[n.length-1]&&(/_/.test(n[n.length-1])||!/[a-zA-Z\d]/.test(n[n.length-1]))||n[n.length-2]&&(/_/.test(n[n.length-2])||!/[a-zA-Z\d]/.test(n[n.length-2])))return!1;return!0}(i))return!1;const c=function(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);let i,l,r,o;if(e)for(t=t.slice(0,e.index),o=e[0],i=o.indexOf(")"),l=n.ccount(t,"("),r=n.ccount(t,")");-1!==i&&l>r;)t+=o.slice(0,i+1),o=o.slice(i+1),i=o.indexOf(")"),r++;return[t,o]}(i+l);if(!c[0])return!1;const u={type:"link",title:null,url:o+e+c[0],children:[{type:"text",value:e+c[0]}]};return c[1]?[u,{type:"text",value:c[1]}]:u}function s(t,n,e,i){return!(!f(i,!0)||/[_-\d]$/.test(e))&&{type:"link",title:null,url:"mailto:"+n+"@"+e,children:[{type:"text",value:n+"@"+e}]}}function f(t,n){const e=t.input.charCodeAt(t.index-1);return(0===t.index||i.unicodeWhitespace(e)||i.unicodePunctuation(e))&&(!n||47!==e)}t.gfmAutolinkLiteralFromMarkdown=o,t.gfmAutolinkLiteralToMarkdown=c,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=mdast-util-gfm-autolink-literal@1.0.1.js.map
