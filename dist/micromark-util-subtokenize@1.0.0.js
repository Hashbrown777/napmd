define(["exports","micromark-util-chunked"],(function(e,t){function n(e,n){const i=e[n][1],s=e[n][2];let o=n-1;const r=[],l=i._tokenizer||s.parser[i.contentType](i.start),p=l.events,f=[],c={};let u,d,g=-1,a=i,h=0,k=0;const y=[k];for(;a;){for(;e[++o][1]!==a;);r.push(o),a._tokenizer||(u=s.sliceStream(a),a.next||u.push(null),d&&l.defineSkip(a.start),a._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(u),a._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),d=a,a=a.next}for(a=i;++g<p.length;)"exit"===p[g][0]&&"enter"===p[g-1][0]&&p[g][1].type===p[g-1][1].type&&p[g][1].start.line!==p[g][1].end.line&&(k=g+1,y.push(k),a._tokenizer=void 0,a.previous=void 0,a=a.next);for(l.events=[],a?(a._tokenizer=void 0,a.previous=void 0):y.pop(),g=y.length;g--;){const n=p.slice(y[g],y[g+1]),i=r.pop();f.unshift([i,i+n.length-1]),t.splice(e,i,2,n)}for(g=-1;++g<f.length;)c[h+f[g][0]]=h+f[g][1],h+=f[g][1]-f[g][0]-1;return c}e.subtokenize=function(e){const i={};let s,o,r,l,p,f,c,u=-1;for(;++u<e.length;){for(;u in i;)u=i[u];if(s=e[u],u&&"chunkFlow"===s[1].type&&"listItemPrefix"===e[u-1][1].type&&(f=s[1]._tokenizer.events,r=0,r<f.length&&"lineEndingBlank"===f[r][1].type&&(r+=2),r<f.length&&"content"===f[r][1].type))for(;++r<f.length&&"content"!==f[r][1].type;)"chunkText"===f[r][1].type&&(f[r][1]._isInFirstContentOfListItem=!0,r++);if("enter"===s[0])s[1].contentType&&(Object.assign(i,n(e,u)),u=i[u],c=!0);else if(s[1]._container){for(r=u,o=void 0;r--&&(l=e[r],"lineEnding"===l[1].type||"lineEndingBlank"===l[1].type);)"enter"===l[0]&&(o&&(e[o][1].type="lineEndingBlank"),l[1].type="lineEnding",o=r);o&&(s[1].end=Object.assign({},e[o][1].start),p=e.slice(o,u),p.unshift(s),t.splice(e,o,u-o+1,p))}}return!c},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=micromark-util-subtokenize@1.0.0.js.map
