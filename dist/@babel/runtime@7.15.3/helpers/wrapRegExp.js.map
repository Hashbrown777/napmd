{"version":3,"file":"wrapRegExp.js","sources":["../../../../node_modules/@babel/runtime/helpers/esm/wrapRegExp.js"],"sourcesContent":["import _typeof from \"@babel/runtime/helpers/typeof\";\nimport setPrototypeOf from \"./setPrototypeOf.js\";\nimport inherits from \"./inherits.js\";\nexport default function _wrapRegExp() {\n  _wrapRegExp = function _wrapRegExp(re, groups) {\n    return new BabelRegExp(re, undefined, groups);\n  };\n\n  var _super = RegExp.prototype;\n\n  var _groups = new WeakMap();\n\n  function BabelRegExp(re, flags, groups) {\n    var _this = new RegExp(re, flags);\n\n    _groups.set(_this, groups || _groups.get(re));\n\n    return setPrototypeOf(_this, BabelRegExp.prototype);\n  }\n\n  inherits(BabelRegExp, RegExp);\n\n  BabelRegExp.prototype.exec = function (str) {\n    var result = _super.exec.call(this, str);\n\n    if (result) result.groups = buildGroups(result, this);\n    return result;\n  };\n\n  BabelRegExp.prototype[Symbol.replace] = function (str, substitution) {\n    if (typeof substitution === \"string\") {\n      var groups = _groups.get(this);\n\n      return _super[Symbol.replace].call(this, str, substitution.replace(/\\$<([^>]+)>/g, function (_, name) {\n        return \"$\" + groups[name];\n      }));\n    } else if (typeof substitution === \"function\") {\n      var _this = this;\n\n      return _super[Symbol.replace].call(this, str, function () {\n        var args = arguments;\n\n        if (_typeof(args[args.length - 1]) !== \"object\") {\n          args = [].slice.call(args);\n          args.push(buildGroups(args, _this));\n        }\n\n        return substitution.apply(this, args);\n      });\n    } else {\n      return _super[Symbol.replace].call(this, str, substitution);\n    }\n  };\n\n  function buildGroups(result, re) {\n    var g = _groups.get(re);\n\n    return Object.keys(g).reduce(function (groups, name) {\n      groups[name] = result[g[name]];\n      return groups;\n    }, Object.create(null));\n  }\n\n  return _wrapRegExp.apply(this, arguments);\n}"],"names":["_wrapRegExp","re","groups","BabelRegExp","undefined","_super","RegExp","prototype","_groups","WeakMap","flags","_this","set","get","setPrototypeOf","buildGroups","result","g","Object","keys","reduce","name","create","inherits","exec","str","call","this","Symbol","replace","substitution","_","args","arguments","_typeof","length","slice","push","apply"],"mappings":"qEAGe,SAASA,IACtBA,EAAc,SAAqBC,EAAIC,GACrC,OAAO,IAAIC,EAAYF,OAAIG,EAAWF,IAGxC,IAAIG,EAASC,OAAOC,UAEhBC,EAAU,IAAIC,QAElB,SAASN,EAAYF,EAAIS,EAAOR,GAC9B,IAAIS,EAAQ,IAAIL,OAAOL,EAAIS,GAI3B,OAFAF,EAAQI,IAAID,EAAOT,GAAUM,EAAQK,IAAIZ,IAElCa,EAAeH,EAAOR,EAAYI,WAqC3C,SAASQ,EAAYC,EAAQf,GAC3B,IAAIgB,EAAIT,EAAQK,IAAIZ,GAEpB,OAAOiB,OAAOC,KAAKF,GAAGG,QAAO,SAAUlB,EAAQmB,GAE7C,OADAnB,EAAOmB,GAAQL,EAAOC,EAAEI,IACjBnB,IACNgB,OAAOI,OAAO,OAGnB,OA3CAC,EAASpB,EAAaG,QAEtBH,EAAYI,UAAUiB,KAAO,SAAUC,GACrC,IAAIT,EAASX,EAAOmB,KAAKE,KAAKC,KAAMF,GAGpC,OADIT,IAAQA,EAAOd,OAASa,EAAYC,EAAQW,OACzCX,GAGTb,EAAYI,UAAUqB,OAAOC,SAAW,SAAUJ,EAAKK,GACrD,GAA4B,iBAAjBA,EAA2B,CACpC,IAAI5B,EAASM,EAAQK,IAAIc,MAEzB,OAAOtB,EAAOuB,OAAOC,SAASH,KAAKC,KAAMF,EAAKK,EAAaD,QAAQ,gBAAgB,SAAUE,EAAGV,GAC9F,MAAO,IAAMnB,EAAOmB,OAEjB,GAA4B,mBAAjBS,EAA6B,CAC7C,IAAInB,EAAQgB,KAEZ,OAAOtB,EAAOuB,OAAOC,SAASH,KAAKC,KAAMF,GAAK,WAC5C,IAAIO,EAAOC,UAOX,MALuC,WAAnCC,EAAQF,EAAKA,EAAKG,OAAS,MAC7BH,EAAO,GAAGI,MAAMV,KAAKM,IAChBK,KAAKtB,EAAYiB,EAAMrB,IAGvBmB,EAAaQ,MAAMX,KAAMK,MAGlC,OAAO3B,EAAOuB,OAAOC,SAASH,KAAKC,KAAMF,EAAKK,IAa3C9B,EAAYsC,MAAMX,KAAMM"}